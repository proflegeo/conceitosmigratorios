<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Protocolo M.I.G.R.A.√á.√É.O.</title>
    <style>
        :root {
            --bg-deep: #050505;
            --panel-bg: #141419;
            --neon-cyan: #00f3ff;
            --neon-red: #ff003c;
            --neon-green: #0aff0a;
            --neon-yellow: #f8e71c;
            --neon-purple: #bd00ff;
            --text-main: #e0e6ed;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            background-color: var(--bg-deep);
            color: var(--text-main);
            font-family: 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            display: flex;
            justify-content: center;
            height: 100vh;
            overflow: hidden; /* Evita scroll na p√°gina toda */
            background-image: radial-gradient(circle at 50% 50%, #1a1a2e 0%, #000 100%);
        }

        #game-interface {
            width: 100%;
            max-width: 500px; /* Largura de celular */
            background: var(--panel-bg);
            display: flex;
            flex-direction: column;
            padding: 15px;
            gap: 10px;
            position: relative;
        }

        /* HUD */
        .hud-top {
            display: flex;
            justify-content: space-between;
            font-size: 0.9rem;
            padding-bottom: 5px;
            border-bottom: 1px solid #333;
        }

        .timer { color: var(--neon-cyan); font-family: monospace; font-size: 1.1rem; }

        /* Terminais e √Åreas de Texto */
        .terminal-screen {
            background: #000;
            border-left: 4px solid var(--neon-purple);
            padding: 15px;
            flex-grow: 1; /* Ocupa o espa√ßo dispon√≠vel */
            display: flex;
            flex-direction: column;
            justify-content: center;
            text-align: center;
            border-radius: 6px;
            min-height: 100px;
        }

        .definition-text { font-size: 1.1rem; line-height: 1.3; }
        
        .hint-text { 
            font-size: 0.9rem; color: var(--neon-yellow); margin-top: 10px;
            display: none; 
        }
        .hint-visible { display: block; }

        /* Input e Bot√µes - Otimizados para Dedos */
        .input-area {
            display: flex;
            flex-direction: column;
            gap: 8px;
            padding-bottom: env(safe-area-inset-bottom); /* Suporte a iPhones novos */
        }

        .input-group { display: flex; gap: 8px; }

        input[type="text"] {
            flex: 1;
            background: #1f1f26; border: 2px solid #444; color: #fff;
            padding: 12px; font-size: 16px; /* 16px evita zoom no iOS */
            border-radius: 8px; outline: none;
            text-transform: uppercase;
        }

        button {
            padding: 12px; font-weight: bold; border: none; border-radius: 8px;
            cursor: pointer; text-transform: uppercase;
        }

        .btn-action { background: var(--neon-cyan); color: #000; flex: 2; }
        .btn-hint { background: #333; color: var(--neon-yellow); border: 1px solid var(--neon-yellow); flex: 1; }

        /* Progress Bar */
        .progress-track { width: 100%; height: 6px; background: #222; border-radius: 3px; }
        .progress-bar { height: 100%; background: var(--neon-green); width: 0%; transition: 0.3s; }

        /* Overlays */
        .overlay {
            position: fixed; inset: 0; background: rgba(0,0,0,0.95);
            z-index: 100; display: flex; flex-direction: column;
            align-items: center; justify-content: center; padding: 20px; text-align: center;
        }

        .hidden { display: none !important; }

        .btn-start {
            background: var(--neon-green); color: #000; padding: 15px 40px;
            border-radius: 30px; font-size: 1.2rem; margin-top: 20px;
        }
    </style>
</head>
<body>

    <div id="game-interface">
        <div class="hud-top">
            <div id="lives-txt">‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</div>
            <div class="timer" id="timer-display">00:00</div>
            <div id="hints-txt">üí° x3</div>
        </div>

        <div class="progress-track"><div id="progress-bar" class="progress-bar"></div></div>

        <div class="terminal-screen">
            <div class="definition-text" id="question-text">Pressione Iniciar...</div>
            <div class="hint-text" id="hint-display"></div>
        </div>

        <div id="feedback-msg" style="text-align: center; min-height: 20px; font-weight: bold;"></div>

        <div class="input-area">
            <div class="input-group">
                <input type="text" id="answer-input" placeholder="Resposta..." autocomplete="off">
            </div>
            <div class="input-group">
                <button class="btn-action" id="submit-btn">ENVIAR</button>
                <button class="btn-hint" id="hint-btn">DICA</button>
            </div>
        </div>
    </div>

    <div id="start-overlay" class="overlay">
        <h1 style="color: var(--neon-cyan)">M.I.G.R.A.√á.√É.O.</h1>
        <p>Recupere o sistema de navega√ß√£o da nave Legeo.</p>
        <button class="btn-start" id="start-btn">INICIAR MISS√ÉO</button>
    </div>

    <script>
        const database = [
            const database = [
            { t: "Migra√ß√£o", d: "Termo geral para qualquer deslocamento de pessoas pelo espa√ßo geogr√°fico.", h: "Pesquise: 'Defini√ß√£o geral de deslocamento populacional'." },
            { t: "Migra√ß√£o interna", d: "Deslocamento de pessoas dentro das fronteiras de um mesmo pa√≠s.", h: "Pesquise: 'Tipos de migra√ß√£o dentro do territ√≥rio nacional'." },
            { t: "Migra√ß√£o internacional", d: "Deslocamento de pessoas entre pa√≠ses diferentes.", h: "Pesquise: 'Conceito de migra√ß√£o externa ou entre na√ß√µes'." },
            { t: "Emigra√ß√£o", d: "Ato de SAIR do seu local de origem para viver em outro lugar.", h: "Pesquise: 'Diferen√ßa entre Emigrar e Imigrar (Sa√≠da)'." },
            { t: "Imigra√ß√£o", d: "Ato de CHEGAR e entrar em um novo local para viver.", h: "Pesquise: 'Diferen√ßa entre Emigrar e Imigrar (Chegada)'." },
            { t: "Migra√ß√£o intermunicipal", d: "Mudan√ßa de resid√™ncia de uma cidade para outra.", h: "Pesquise: 'Mudan√ßa de endere√ßo entre munic√≠pios vizinhos'." },
            { t: "Migra√ß√£o intramunicipal", d: "Mudan√ßa de resid√™ncia dentro da mesma cidade (bairros).", h: "Pesquise: 'Deslocamento residencial dentro do mesmo munic√≠pio'." },
            { t: "Migra√ß√£o interestadual", d: "Mudan√ßa de resid√™ncia de um estado para outro.", h: "Pesquise: 'Migra√ß√£o da Bahia para S√£o Paulo (exemplo)'." },
            { t: "Migra√ß√£o intraestadual", d: "Mudan√ßa de cidade dentro do mesmo estado.", h: "Pesquise: 'Migra√ß√£o de Campinas para Santos (dentro de SP)'." },
            { t: "Migra√ß√£o inter-regional", d: "Deslocamento de uma macrorregi√£o do pa√≠s para outra.", h: "Pesquise: 'Fluxo migrat√≥rio do Nordeste para o Sudeste'." },
            { t: "Migra√ß√£o intrarregional", d: "Deslocamento entre locais na mesma macrorregi√£o.", h: "Pesquise: 'Migra√ß√£o entre estados do pr√≥prio Nordeste'." },
            { t: "Migra√ß√£o pendular", d: "Movimento di√°rio de vai e vem (casa-trabalho).", h: "Pesquise: 'Deslocamento di√°rio de trabalhadores em metr√≥poles'.", a: ["Movimento pendular"] },
            { t: "Migra√ß√£o definitiva", d: "Mudan√ßa sem inten√ß√£o de voltar, moradia fixa.", h: "Pesquise: 'Mudan√ßa permanente de resid√™ncia'." },
            { t: "Migra√ß√£o tempor√°ria", d: "Deslocamento por tempo limitado com inten√ß√£o de retorno.", h: "Pesquise: 'Interc√¢mbio ou trabalho tempor√°rio no exterior'." },
            { t: "Migra√ß√£o sazonal", d: "Deslocamento ligado a esta√ß√µes do ano ou colheitas.", h: "Pesquise: 'Trabalhadores rurais tempor√°rios (b√≥ias-frias)'.", a: ["Sazonal"] },
            { t: "Transum√¢ncia", d: "Outro nome para migra√ß√£o sazonal (comum na pecu√°ria).", h: "Pesquise: 'Deslocamento de gado no Sert√£o ou nos Alpes'." },
            { t: "Cidade dormit√≥rio", d: "Cidade onde a popula√ß√£o dorme mas trabalha na cidade vizinha.", h: "Pesquise: 'Cidades sat√©lites que servem apenas para resid√™ncia'." },
            { t: "Migra√ß√£o de c√©rebros", d: "Sa√≠da de profissionais altamente qualificados para pa√≠ses ricos.", h: "Pesquise: 'Fuga de pesquisadores e cientistas do Brasil'.", a: ["Fuga de cerebros"] },
            { t: "Migra√ß√£o espont√¢nea", d: "Movimento por vontade pr√≥pria e planejamento.", h: "Pesquise: 'Migrar por desejo de melhoria de vida (volunt√°rio)'." },
            { t: "Migra√ß√£o for√ßada", d: "Deslocamento involunt√°rio por guerras ou desastres.", h: "Pesquise: 'Pessoas obrigadas a sair de casa (ref√∫gio)'." },
            { t: "Migra√ß√£o de retorno", d: "A volta do migrante para sua terra natal.", h: "Pesquise: 'Nordestinos voltando do Sudeste para o Nordeste'." },
            { t: "√äxodo Rural", d: "Migra√ß√£o em massa do campo para a cidade.", h: "Pesquise: 'Processo de urbaniza√ß√£o do Brasil na d√©cada de 1970'." },
            { t: "Di√°spora", d: "Dispers√£o de um povo pelo mundo mantendo identidade cultural.", h: "Pesquise: 'Dispers√£o dos judeus ou africanos pelo mundo'." },
            { t: "Cosmopolita", d: "Pessoa ou cidade que agrega diversas culturas, 'Cidad√£o do Mundo'.", h: "Pesquise: 'Cidades globais multiculturais como NY ou Londres'." },
            { t: "Imigrante econ√¥mico", d: "Pessoa que migra voluntariamente por emprego/dinheiro.", h: "Pesquise: 'Migra√ß√£o motivada por busca de trabalho'." },
            { t: "Refugiado", d: "Pessoa que fugiu por persegui√ß√£o ou guerra, com prote√ß√£o legal.", h: "Pesquise: 'Defini√ß√£o da ACNUR/ONU para quem foge de guerras'." },
            { t: "Refugiado clim√°tico", d: "Pessoa for√ßada a migrar por desastres ambientais.", h: "Pesquise: 'Migrantes afetados por secas extremas ou inunda√ß√µes'." },
            { t: "Ap√°trida", d: "Pessoa sem nacionalidade reconhecida por nenhum pa√≠s.", h: "Pesquise: 'Pessoas que n√£o possuem p√°tria ou documentos'." },
            { t: "Asilo", d: "Prote√ß√£o jur√≠dica pedida a outro governo por persegui√ß√£o pol√≠tica.", h: "Pesquise: 'O que Snowden ou Assange pediram a outros pa√≠ses'." },
            { t: "Exilado", d: "Pessoa expulsa de seu pa√≠s, impedida de retornar.", h: "Pesquise: 'Brasileiros expulsos durante a Ditadura Militar'." },
            { t: "Deslocados internos", d: "Fugitivos de conflitos que n√£o cruzaram fronteiras internacionais.", h: "Pesquise: 'Diferen√ßa entre refugiado e deslocado interno'." },
            { t: "N√¥made digital", d: "Profissional que usa internet para trabalhar de qualquer lugar.", h: "Pesquise: 'Trabalhar viajando o mundo com laptop'." },
            { t: "Expatriado", d: "Profissional enviado pela empresa para trabalhar no exterior.", h: "Pesquise: 'Executivos transferidos para filiais internacionais'." },
            { t: "Fronteiri√ßo", d: "Pessoa que vive na divisa e cruza a fronteira frequentemente.", h: "Pesquise: 'Vida em cidades g√™meas (ex: Ponta Por√£/Pedro Juan)'." },
            { t: "Extradi√ß√£o", d: "Entrega de um criminoso por um pa√≠s √† justi√ßa de outro.", h: "Pesquise: 'Pa√≠s devolvendo fugitivo para ser julgado na origem'." },
            { t: "Imigrante ilegal", d: "Pessoa em pa√≠s estrangeiro sem documenta√ß√£o oficial.", h: "Pesquise: 'Migra√ß√£o indocumentada ou irregular'.", a: ["Ilegal", "Indocumentado", "Clandestino"] },
            { t: "Deportar", d: "Ato do Estado de enviar for√ßadamente estrangeiro de volta.", h: "Pesquise: 'O que acontece com imigrantes ilegais detidos'.", a: ["Deportacao"] },
            { t: "Coyote", d: "Atravessador pago para guiar imigrantes ilegais.", h: "Pesquise: 'Atravessadores na fronteira M√©xico-EUA'.", a: ["Coiote"] },
            { t: "Tr√°fico de pessoas", d: "Recrutamento enganoso/for√ßado de pessoas para explora√ß√£o.", h: "Pesquise: 'Explora√ß√£o sexual ou trabalho escravo de migrantes'.", a: ["Trafico humano"] },
            { t: "Naturaliza√ß√£o", d: "Processo jur√≠dico para adquirir nacionalidade de outro pa√≠s.", h: "Pesquise: 'Como um estrangeiro vira cidad√£o brasileiro'." },
            { t: "Visto", d: "Autoriza√ß√£o no passaporte para entrar em um pa√≠s.", h: "Pesquise: 'Documento consular para entrada nos EUA'." },
            { t: "Dupla cidadania", d: "Ter nacionalidade de dois pa√≠ses ao mesmo tempo.", h: "Pesquise: 'Ter passaporte brasileiro e italiano simultaneamente'." },
            { t: "Saldo migrat√≥rio", d: "Diferen√ßa matem√°tica entre n√∫mero de imigrantes e emigrantes.", h: "Pesquise: 'C√°lculo demogr√°fico: Entradas menos Sa√≠das'." },
            { t: "Censo demogr√°fico", d: "Pesquisa oficial do governo para contar a popula√ß√£o.", h: "Pesquise: 'Pesquisa do IBGE realizada a cada 10 anos'.", a: ["Censo", "Recenseamento"] },
            { t: "Fatores de repuls√£o", d: "Motivos negativos que empurram a pessoa para fora (ex: guerra).", h: "Pesquise: 'Motivos que causam a sa√≠da for√ßada de um pa√≠s'.", a: ["Fatores repulsivos", "Repulsao"] },
            { t: "Fatores de atra√ß√£o", d: "Motivos positivos que puxam o migrante (ex: emprego).", h: "Pesquise: 'O que atrai imigrantes para pa√≠ses desenvolvidos'.", a: ["Fatores atrativos", "Atracao"] },
            { t: "Remessas financeiras", d: "Dinheiro enviado por trabalhadores no exterior para a fam√≠lia.", h: "Pesquise: 'Envio de d√≥lares de imigrantes para o pa√≠s de origem'." },
            { t: "Xenofobia", d: "Avers√£o, √≥dio ou preconceito contra estrangeiros.", h: "Pesquise: 'Not√≠cias sobre preconceito contra imigrantes na Europa'." },
            { t: "Gentrifica√ß√£o", d: "Valoriza√ß√£o imobili√°ria que expulsa moradores pobres de um bairro.", h: "Pesquise: 'Enobrecimento urbano e expuls√£o de moradores antigos'." },
            { t: "Enclave √©tnico", d: "√Årea na cidade concentrada por grupo de mesma nacionalidade.", h: "Pesquise: 'Bairro da Liberdade (SP) ou Little Italy (NY)'.", a: ["Gueto", "Bairro etnico"] },
            { t: "Assimila√ß√£o cultural", d: "Quando o imigrante adota costumes locais e perde os originais.", h: "Pesquise: 'Perda de identidade cultural do imigrante'." },
            { t: "Multiculturalismo", d: "Coexist√™ncia de diversas culturas no mesmo territ√≥rio.", h: "Pesquise: 'Sociedades onde v√°rias culturas convivem em harmonia'." },
            { t: "Segrega√ß√£o espacial", d: "Separa√ß√£o f√≠sica de grupos sociais (ricos x pobres) na cidade.", h: "Pesquise: 'Faveliza√ß√£o e condom√≠nios fechados'.", a: ["Segregacao socioespacial"] }
        ];

        const Game = {
            state: { queue: [], current: null, lives: 5, hints: 3, score: 0, startTime: 0 },
            
            init() {
                this.state.queue = [...database].sort(() => Math.random() - 0.5);
                this.state.lives = 5; this.state.hints = 3; this.state.score = 0;
                this.state.startTime = Date.now();
                document.getElementById('start-overlay').classList.add('hidden');
                this.updateHUD();
                this.nextTurn();
                this.timer();
            },

            nextTurn() {
                if (this.state.queue.length === 0 || this.state.lives <= 0) {
                    this.endGame(); return;
                }
                this.state.current = this.state.queue.pop();
                document.getElementById('question-text').textContent = this.state.current.d;
                document.getElementById('hint-display').classList.remove('hint-visible');
                document.getElementById('answer-input').value = "";
                document.getElementById('feedback-msg').textContent = "";
            },

            check() {
                const input = document.getElementById('answer-input').value.trim().toLowerCase()
                    .normalize("NFD").replace(/[\u0300-\u036f]/g, "");
                const correct = this.state.current.t.toLowerCase()
                    .normalize("NFD").replace(/[\u0300-\u036f]/g, "");

                if (input === correct) {
                    this.state.score++;
                    document.getElementById('feedback-msg').textContent = "‚úÖ EXCELENTE!";
                    document.getElementById('feedback-msg').style.color = "var(--neon-green)";
                    setTimeout(() => this.nextTurn(), 1000);
                } else {
                    this.state.lives--;
                    document.getElementById('feedback-msg').textContent = `‚ùå ERA: ${this.state.current.t.toUpperCase()}`;
                    document.getElementById('feedback-msg').style.color = "var(--neon-red)";
                    this.state.queue.unshift(this.state.current); // Volta pra fila
                    setTimeout(() => this.nextTurn(), 2000);
                }
                this.updateHUD();
            },

            updateHUD() {
                document.getElementById('lives-txt').textContent = "‚ù§Ô∏è".repeat(this.state.lives);
                document.getElementById('hints-txt').textContent = "üí° x" + this.state.hints;
                const progress = (this.state.score / database.length) * 100;
                document.getElementById('progress-bar').style.width = progress + "%";
            },

            timer() {
                setInterval(() => {
                    const sec = Math.floor((Date.now() - this.state.startTime)/1000);
                    const m = Math.floor(sec/60).toString().padStart(2,'0');
                    const s = (sec%60).toString().padStart(2,'0');
                    document.getElementById('timer-display').textContent = `${m}:${s}`;
                }, 1000);
            },

            endGame() {
                const win = this.state.lives > 0;
                const overlay = document.getElementById('start-overlay');
                overlay.classList.remove('hidden');
                overlay.innerHTML = `
                    <h1 style="color: ${win ? 'var(--neon-green)' : 'var(--neon-red)'}">${win ? 'SISTEMA RESTAURADO' : 'NAVE PERDIDA'}</h1>
                    <p>Acertos: ${this.state.score}</p>
                    <button class="btn-start" onclick="location.reload()">RECOMECAR</button>
                `;
            }
        };

        document.getElementById('start-btn').onclick = () => Game.init();
        document.getElementById('submit-btn').onclick = () => Game.check();
        document.getElementById('hint-btn').onclick = () => {
            if (Game.state.hints > 0) {
                Game.state.hints--;
                document.getElementById('hint-display').textContent = "üîé " + Game.state.current.h;
                document.getElementById('hint-display').classList.add('hint-visible');
                Game.updateHUD();
            }
        };
    </script>
</body>
</html>
